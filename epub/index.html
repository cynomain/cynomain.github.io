<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0,
    maximum-scale=1.0, user-scalable=0"
    />
    <title>Epub Explorer</title>

    <link rel="manifest" href="manifest.json" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

    <!--Material Icons-->
    <!--link
      rel=" stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    /-->
    <link rel="preload" href="assets/material_icons.css" as="style" type="text/css"/>
    <link rel="stylesheet" href="assets/material_icons.css" />
    <style>
      .material-symbols-rounded {
        user-select: none;
        font-variation-settings: "FILL" 1, "wght" 700, "GRAD" 200, "opsz" 48;
      }
    </style>

    <!--link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.7/dist/css/autoComplete.min.css"
    /-->
    <link rel="stylesheet" href="style.css" />
    <script src="libs/jszip.min.js"></script>
    <!--script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.7/dist/autoComplete.min.js"></script-->
    <script src="script.js"></script>
  </head>

  <body>
    <script>
      if (typeof navigator.serviceWorker !== "undefined") {
        navigator.serviceWorker.register("sw.js");
      }
    </script>

    <header class="title-bar">
      <button id="button-import">
        <span class="material-symbols-rounded"> folder_open </span>
      </button>
      <a href="/epub" class="static">Work Index</a>
      <button id="button-search">
        <span class="material-symbols-rounded"> search </span>
      </button>
    </header>
    <div class="main-content" id="main-content">
      <div id="search-card" class="card search-info">
        <p class="info-title">
          <span>Search Results</span>
          <span class="material-symbols-rounded"> search </span>
        </p>
        <div class="spacer"></div>
        <p class="info thin" id="search-info">The library is loading...</p>
        <div class="spacer"></div>
        <p class="info bold" id="search-info-amount">Please wait...</p>
      </div>
    </div>

    <div id="popup-search" class="popup disabled">
      <div class="search card">
        <div class="children-fill first">
          <h1>Search</h1>

          <button
            id="search-clear"
            class="clear"
            style="font-weight: bold; font-size: 1em; vertical-align: bottom"
          >
            Clear
          </button>
        </div>

        <div class="contents">
          <h2>Any</h2>
          <input type="text" name="any" id="search-any" />

          <h2>Title</h2>
          <input type="text" name="title" id="search-title" />

          <h2>Authors</h2>
          <input type="text" name="authors" id="search-authors" />

          <h2>Fandoms</h2>
          <input type="text" name="fandoms" id="search-fandoms" />

          <h2>Characters</h2>
          <input type="text" name="characters" id="search-characters" />

          <h2>Relationships</h2>
          <input type="text" name="relationships" id="search-relationships" />

          <h2>Tags</h2>
          <input type="text" name="tags" id="search-tags" />

          <h2>Series</h2>
          <input type="text" name="series" id="search-series" />

          <h2>Completion</h2>
          <select class="inverse" name="complete" id="search-completion">
            <option value="all">All Works</option>
            <option value="completed">Only Completed</option>
            <option value="in-progress">Only In-Progress</option>
          </select>
          <!--
          <h2>Crossovers</h2>
          <select class="inverse" name="crossover" id="search-crossover">
            <option value="include">Include Crossovers</option>
            <option value="exclude">Exclude Crossovers</option>
            <option value="only">Only Crossovers</option>
          </select>
        -->
          <h2>Only Single Chapter</h2>
          <select
            class="inverse"
            name="single-chapter"
            id="search-single-chapter"
          >
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
          <h2>Word Count</h2>
          <div class="label-content">
            <select
              class="inverse"
              name="wordcount-comparator"
              id="search-wordcount-comparator"
            >
              <option value="equal">&equals;</option>
              <option value="greater">&gt;</option>
              <option value="less">&lt;</option>
              <option value="greater-equal">&geq;</option>
              <option value="less-equal">&leq;</option>
            </select>
            <input type="number" name="wordcount" id="search-wordcount" />
          </div>

          <h2>Sort By</h2>
          <select class="inverse" name="sort-by" id="search-by">
            <option value="title">Title</option>
            <option value="author">Author</option>
            <option value="wordcount">Word Count</option>
            <option value="date-posted">Date Posted</option>
            <option value="date-updated">Date Updated</option>
            <option value="random">Random</option>
          </select>

          <h2>Sort Direction</h2>
          <select class="inverse" name="sort-direction" id="search-direction">
            <option value="descending">Descending</option>
            <option value="ascending">Ascending</option>
          </select>
        </div>

        <div
          style="width: 100%; box-sizing: border-box; gap: 0.5em"
          class="children-fill row equal"
        >
          <button
            id="search-cancel"
            class="inverse"
            style="font-weight: bold; font-size: 1em; box-sizing: border-box"
          >
            Cancel
          </button>
          <button
            id="search-go"
            style="font-weight: bold; font-size: 1em; box-sizing: border-box"
          >
            Search
          </button>
        </div>
      </div>
    </div>

    <div id="popup-import" class="popup disabled">
      <div class="card import">
        <h2>Library</h2>
        <p>Select an option</p>
        <div class="buttons children-fill equal row" style="font-size: .8em;">
          <button class="clear" id="button-rebuild-cache">Rebuild Library Cache</button>
          <button class="clear" id="button-refresh-app">
            Refresh App Cache
          </button>
        </div>
        <div class="buttons">
          <button class="clear" id="button-close-library">Cancel</button>
          <button class="clear" id="button-clear-library">Clear Library</button>
          <button class="clear" id="button-add-to-library">
            Add To Library
          </button>
        </div>

      </div>

    </div>

    <div id="popup-confirm" class="popup disabled">
      <div class="card import">
        <h2>Are you sure?</h2>
        <div class="buttons children-fill row equal">
          <button
            class="clear"
            onclick="confirmDialog_button(false)"
            id="button-confirm-no"
          >
            No
          </button>
          <button
            class="clear"
            onclick="confirmDialog_button(true)"
            id="button-confirm-no"
          >
            Yes
          </button>
        </div>
      </div>
    </div>

    <div class="popup disabled" id="popup-loading">
      <span class="loader"></span>
    </div>

    <input
      style="display: none"
      type="file"
      name="input_folder"
      id="input-folder"
      directory
      webkitdirectory
      multiple
      accept=".epub"
    />
  </body>
</html>
